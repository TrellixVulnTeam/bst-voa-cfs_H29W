{% extends "layout.html" %}

{% block pageTitle %}
Uploaded report files
{% endblock %}

{% block beforeContent %}

	<div class="govuk-grid-row">
		<div class="govuk-grid-column-one-third">
			{{ govukBackLink({
			  text: "Back",
			  href: "javascript:window.history.back()"
			}) }}
		</div>
		{% include "includes/header-section-signedin.html" %}
	</div>
{% endblock %}
{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">


	{% if data['deletefile'] == 1 %}
		<div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
		  <div class="govuk-notification-banner__header">
			<h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
			  Success
			</h2>
		  </div>
		  <div class="govuk-notification-banner__content">
			<h3 class="govuk-notification-banner__heading">
			  You have successfully removed the file "localcouncil09032022.xml".
			</h3>
			<p class="govuk-body">Upload a corrected file.</p>
		  </div>
		</div>



	{% endif %}


      <h1 class="govuk-heading-xl">Uploaded reports</h1>
		
		
		<details class="govuk-details" data-module="govuk-details">
                <summary class="govuk-details__summary">
                  <span class="govuk-details__summary-text">
                    I want to understand the different status descriptions
                  </span>
                </summary>
                <div class="govuk-details__text">

                  <p>
                      The different statuses refers to:
                  </p>
                  <ul>

                    <li class="govuk-!-margin-top-3 govuk-!-margin-bottom-3">
						<strong class="govuk-tag govuk-tag--yellow">
               				 Processing
             			 </strong> 
						
						The upload validation is in progress. You will receive an email notification once validation is complete.</li>

                    <li class="govuk-!-margin-top-3 govuk-!-margin-bottom-3">
						<strong class="govuk-tag govuk-tag--red">
               				 FILE VALIDATION FAILURE
             			 </strong> 
						
						File uploaded seems to be having issues. You have to correct the file issue(s) and upload the file again.
					</li>

                
					  
					  <li class="govuk-!-margin-top-3 govuk-!-margin-bottom-3">
						  <strong class="govuk-tag govuk-tag--orange">
               				 DATA VALIDATION FAILURE
             			 </strong> 
						
						Some of the data inputs within the file are missing or has failed data validation. You have to correct the data errors to submit the reports to VOA.</li>

                   
					  
					  <li class="govuk-!-margin-top-3">
						  <strong class="govuk-tag govuk-tag--green">
               				 VALIDATED
             			 </strong> 
						
						Your file has passed file and data validation. You can submit the reports within the file to VOA.
					  
					  </li>

                  

                  </ul>


                </div>
      </details>

	{% if data['deletefile'] == 1 %}
		<p>Showing 1 - 3 of 3 results</p>
	{% else %}
      <p>Showing 1 - 4 of 4 results</p>
	{% endif %}

      <table class="govuk-table" data-module="moj-sortable-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
         <th class="govuk-table__header" class="govuk-table__header" aria-sort="none">Filename</th>
            <th scope="col" class="govuk-table__header" aria-sort="ascending">Last updated Date and Time</th>
            <th scope="col" class="govuk-table__header" aria-sort="none">Status</th>
            <th scope="col" class="govuk-table__header" aria-sort="none">Action</th>

            <!--<th scope="col" class="govuk-table__header" aria-sort="none">Action</th>-->
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row govuk-table__row--selected">
			<td class="govuk-table__cell">localcouncil09032022.xml</td>
            <td class="govuk-table__cell">09 Mar 2022 14:45</td>
            <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--yellow">
                Processing
              </strong>
           </td>
            <td class="govuk-table__cell">
                  <a href="/bulkreport/bulk-report-progress">View reports</a>
            </td>
          </tr>

		{% if data['deletefile'] == 0 %}

          <tr class="govuk-table__row govuk-table__row--selected">
			<td class="govuk-table__cell">localcouncil08032022-1.xml</td>
            <td class="govuk-table__cell">09 Mar 2022 12:27</td>
            <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--red">
                File Validation failure
              </strong>
           </td>
            <td class="govuk-table__cell">
                  <a href="/bulkreport/failed-upload-file?filetype=xml">View reports</a>
            </td>
          </tr>

		{% endif %}

          <tr class="govuk-table__row govuk-table__row--selected">
			<td class="govuk-table__cell">localcouncil07032022-2.xls</td>
            <td class="govuk-table__cell">09 Mar 2022 11:27</td>
            <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--orange">
                Data Validation failure
              </strong>
           </td>
            <td class="govuk-table__cell">
                  <a href="/bulkreport/bulk-submission-report-list?dataissues=1&correctedissues=0">View reports</a>
            </td>
          </tr>


          <tr class="govuk-table__row govuk-table__row--selected">
			<td class="govuk-table__cell">localcouncil07032022-1.xls</td>
            <td class="govuk-table__cell">09 Mar 2022 09:27</td>
            <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--green">
                Validated
              </strong>
           </td>
            <td class="govuk-table__cell">
                  <a href="/bulkreport/bulk-submission-report-list?dataissues=0">View reports</a>
            </td>
          </tr>






        </tbody>
      </table>
<form method="post" novalidate action="/bulkreport/select-file-format">

	<div class="govuk-button-group">


	  	 <button class="govuk-button" data-module="govuk-button" id="uploadanother" name="uploadanother" value="1">
			Upload another file
		  </button>

	 </div>

</form>
    </div>
  </div>

{% endblock %}
